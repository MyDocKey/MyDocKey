<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MyDocKey - Streamlined Access</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-grad-start: #4f46e5; --bg-grad-end: #3b82f6; --card-bg: rgba(255,255,255,0.1);
    --text-color: white; --input-bg: rgba(255,255,255,0.85); --input-text: black;
    --button-bg: white; --button-text: #2563eb; --button-hover: #e0e7ff;
    --tab-bg: rgba(255,255,255,0.15); --tab-active-bg: white; --tab-active-text: #2563eb;
    --success-color: #10b981; --success-hover: #059669; --border-color: rgba(255,255,255,0.2);
    --shadow-color: rgba(0,0,0,0.2); --danger-color: #ef4444; --danger-hover: #dc2626;
  }
  [data-theme="dark"] {
    --bg-grad-start: #1f2937; --bg-grad-end: #111827; --card-bg: rgba(31,41,55,0.5);
    --text-color: #e5e7eb; --input-bg: rgba(55,65,81,0.8); --input-text: white;
    --button-bg: #3b82f6; --button-text: white; --button-hover: #2563eb;
    --tab-bg: rgba(55,65,81,0.5); --tab-active-bg: #3b82f6; --tab-active-text: white;
    --border-color: rgba(255,255,255,0.1); --shadow-color: rgba(0,0,0,0.4);
  }
  *{box-sizing:border-box;margin:0;padding:0;font-family:'Inter',sans-serif;transition: background 0.3s, color 0.3s;}
  body{background:linear-gradient(135deg, var(--bg-grad-start), var(--bg-grad-end));display:flex;justify-content:center;align-items:center;min-height:100vh;padding:1rem;}
  .card{background:var(--card-bg);backdrop-filter:blur(12px);border-radius:20px;padding:2rem;width:100%;max-width:450px;text-align:center;box-shadow:0 8px 30px var(--shadow-color);color:var(--text-color);border:1px solid var(--border-color); position: relative; overflow: hidden; padding-bottom: 5rem;}
  .logo-container{display:flex;justify-content:center;align-items:center;gap:10px;margin-bottom:1rem;}
  .doc-icon{width:24px;height:28px;border:2px solid var(--text-color);border-radius:3px;position:relative;}
  .doc-icon::before{content:"";position:absolute;width:12px;height:2px;background:var(--text-color);top:6px;left:4px;border-radius:1px;box-shadow:0 6px var(--text-color),0 12px var(--text-color);}
  .lock-icon{width:20px;height:20px;border:2px solid var(--success-color);border-radius:4px;position:relative;background:rgba(16,185,129,0.2);transform:translateY(4px);}
  .lock-icon::before{content:"";position:absolute;top:-8px;left:4px;width:8px;height:8px;border:2px solid var(--success-color);border-radius:50%;}
  .logo-text{font-size:1.5rem;font-weight:700;letter-spacing:0.5px;}
  p.subtitle{font-size:0.9rem;margin-bottom:1rem;opacity:0.85;}
  .tabs{display:flex;justify-content:center;background:var(--tab-bg);border-radius:12px;margin-bottom:1.5rem;overflow:hidden;}
  .tab{flex:1;padding:0.7rem;cursor:pointer;font-weight:bold;transition:0.3s;}
  .tab.active{background:var(--tab-active-bg);color:var(--tab-active-text);box-shadow:0 2px 4px rgba(0,0,0,0.1);}
  .tab-content{display:none;}
  .tab-content.active{display:block; animation: fadeIn 0.5s;}
  @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes slideInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
  input,button{width:100%;padding:0.8rem;margin-bottom:0.8rem;border:none;border-radius:12px;font-size:1rem;}
  input{background:var(--input-bg);color:var(--input-text);}
  input::placeholder {color: var(--input-text); opacity: 0.6;}
  button{background:var(--button-bg);color:var(--button-text);font-weight:bold;cursor:pointer;transition:all 0.2s;transform:scale(1);}
  button:hover:not(:disabled){background:var(--button-hover); transform:scale(1.02);}
  button:active:not(:disabled) { transform: scale(0.98); }
  button:disabled { background: #9ca3af; cursor: not-allowed; }
  label{display:block;margin-bottom:0.3rem;font-size:0.9rem;font-weight:600;text-align:left;}
  a {color: var(--text-color); text-decoration: underline;}
  .footer-container { position: absolute; bottom: 12px; left: 0; right: 0; width: 100%; }
  .helpdesk { font-size: 0.8rem; opacity: 0.85; margin-bottom: 4px; }
  .credit { font-size: 0.6rem; opacity: 0.5; }
  .toast{position:fixed;bottom:20px;right:20px;background:var(--button-bg);color:var(--button-text);padding:12px 18px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.2);transform:translateX(calc(100% + 20px));transition:transform 0.4s;font-weight:600;z-index:10000;}
  .toast.show{transform:translateX(0);}
  .theme-switcher { position: fixed; top: 20px; right: 20px; cursor: pointer; z-index: 1001;}
  .theme-switcher svg { width: 24px; height: 24px; color: white; }
  .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(5px); display: none; justify-content: center; align-items: center; z-index: 2000; animation: fadeIn 0.3s; }
  .modal-content { background: var(--card-bg); color: var(--text-color); border: 1px solid var(--border-color); padding: 2rem; border-radius: 20px; max-width: 480px; width: 90%; text-align: left; animation: slideInUp 0.4s; }
  .modal-content h3 { margin-bottom: 1rem; }
  .modal-content p { margin-bottom: 0.5rem; opacity: 0.9; line-height: 1.6; }
  .modal-buttons { display: flex; gap: 1rem; margin-top: 1.5rem; }
  .modal-buttons button { margin-bottom: 0; }
  .modal-footer { margin-top: 1.5rem; font-size: 0.8rem; display: flex; align-items: center; }
  .modal-footer input { width: auto; margin: 0 0.5rem 0 0; }
  #drop-zone { border: 2px dashed var(--border-color); border-radius: 12px; padding: 1.5rem; margin-bottom: 0.8rem; transition: background 0.3s, border-color 0.3s; cursor:pointer; }
  #drop-zone.dragover { background: rgba(255,255,255,0.2); border-color: white; }
  #file-list { list-style: none; padding: 0; margin-top: 0.5rem; text-align: left; font-size: 0.8rem; max-height: 80px; overflow-y: auto; }
  #file-list li { background: rgba(0,0,0,0.2); padding: 4px 8px; border-radius: 4px; margin-bottom: 4px; animation: fadeIn 0.5s; }
  #progress-bar-container { width: 100%; background: var(--input-bg); border-radius: 8px; overflow: hidden; height: 10px; margin-bottom: 0.8rem; display: none; }
  #progress-bar { width: 0; height: 100%; background: var(--success-color); transition: width 0.3s; }
  .captcha-container { display: flex; align-items: center; gap: 10px; margin-bottom: 0.8rem; }
  #captcha-canvas, #manage-captcha-canvas { background: white; border-radius: 8px; }
  #reload-captcha, #manage-reload-captcha { background: transparent; border: none; padding: 0; cursor: pointer; }
  #my-files-result a { display: block; background: var(--success-color); color: white; padding: 0.8rem; border-radius: 12px; text-decoration: none; font-weight: 600; margin-bottom: 0.5rem; transition: all 0.2s; transform: scale(1); }
  #my-files-result a:hover { background: var(--success-hover); transform: scale(1.02); }
</style>
</head>
<body>

<div class="card">
  <div class="logo-container">
    <div class="doc-icon"></div> <div class="lock-icon"></div> <div class="logo-text">MyDocKey</div>
  </div>
  <p class="subtitle">Securely share your files â€” no login required.</p>
  <div class="tabs">
    <div class="tab active" data-tab="upload">Upload</div>
    <div class="tab" data-tab="my-files">Access Files</div>
  </div>

  <div class="tab-content active" id="upload">
    <input id="username" type="text" placeholder="Choose a Unique Username" required>
    <input id="password" type="password" placeholder="Set Password for these files" required>

    <div id="drop-zone">
        <p>Drag & Drop files here or</p>
        <input id="file" type="file" required multiple style="display:none;">
        <button id="select-file-btn" style="margin-top:0.8rem;padding:0.6rem 1.2rem;font-size:0.9rem;">Select Files</button>
        <ul id="file-list"></ul>
    </div>


    <div>
        <input type="checkbox" id="pin-protect"> Protect files with 4-digit PIN
        <input type="text" id="pin-code" placeholder="Enter 4-digit PIN" maxlength="4" style="display:none;margin-top:0.5rem;">
    </div>

    <label for="expiry">Select Expiry Date</label>
    <input id="expiry" type="date" required>
    <div class="captcha-container">
        <canvas id="captcha-canvas" width="120" height="40"></canvas>
        <input id="captcha-input" type="text" placeholder="Enter CAPTCHA" required>
        <button id="reload-captcha" title="Reload CAPTCHA">â†»</button>
    </div>
    <div id="progress-bar-container"><div id="progress-bar"></div></div>
    <button id="upload-btn">Upload Files</button>
  </div>

  <div class="tab-content" id="my-files">
    <input id="manage-username" type="text" placeholder="Enter Username" required>
    <input id="manage-password" type="password" placeholder="Enter Password" required>
    <div class="captcha-container">
        <canvas id="manage-captcha-canvas" width="120" height="40"></canvas>
        <input id="manage-captcha-input" type="text" placeholder="Enter CAPTCHA" required>
        <button id="manage-reload-captcha" title="Reload CAPTCHA">â†»</button>
    </div>
    <button id="find-files-btn">ACCESS & DOWNLOAD</button>
    <div id="my-files-result"></div>
  </div>
  
  <div class="footer-container">
    <p class="helpdesk">Contact: <a href="mailto:helpdesk.mydockey@yahoo.com">helpdesk.mydockey@yahoo.com</a></p>
    <p class="credit">Created by Shubham (BCA student) | Enhanced Version</p>
  </div>
</div>

<div class="toast" id="toast"></div>

<div class="modal-overlay" id="welcome-modal">
    <div class="modal-content">
        <h3>ðŸš€ Welcome to MyDocKey Pro!</h3>
        <p>This is a secure and anonymous way to transfer files. No accounts, no logins, just simple and private file sharing.</p>
        <p><strong>How it works:</strong> Upload files under a unique username and password, set an expiry date, and share your credentials. It's that easy!</p>
        <div class="modal-footer"><input type="checkbox" id="hide-welcome"><label for="hide-welcome">Don't show this again</label></div>
        <div class="modal-buttons"><button id="close-welcome" style="width:100%;">Get Started</button></div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Tabs
    const tabs = document.querySelectorAll('.tab');
    const tabContents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            tabContents.forEach(tc => tc.classList.remove('active'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.add('active');
        });
    });

    // File selection & drag-drop
    const dropZone = document.getElementById('drop-zone');
    const fileInput = document.getElementById('file');
    const fileList = document.getElementById('file-list');

    dropZone.addEventListener('click', () => fileInput.click());
    fileInput.addEventListener('change', (e) => displayFiles(e.target.files));
    dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.classList.add('dragover'); });
    dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
    dropZone.addEventListener('drop', (e) => {
        e.preventDefault(); dropZone.classList.remove('dragover');
        if (e.dataTransfer.files) displayFiles(e.dataTransfer.files);
    });

    function displayFiles(files){
        fileList.innerHTML = '';
        Array.from(files).forEach(f => {
            const li = document.createElement('li'); li.textContent = f.name; fileList.appendChild(li);
        });
    }

    // PIN checkbox toggle
    const pinCheckbox = document.getElementById('pin-protect');
    const pinInput = document.getElementById('pin-code');
    pinCheckbox.addEventListener('change', () => {
        pinInput.style.display = pinCheckbox.checked ? 'block' : 'none';
    });

    // Simple CAPTCHA
    const captchaCanvas = document.getElementById('captcha-canvas');
    const captchaInput = document.getElementById('captcha-input');
    const reloadCaptcha = document.getElementById('reload-captcha');
    function generateCaptcha(canvas){
        const ctx = canvas.getContext('2d');
        ctx.clearRect(0,0,canvas.width,canvas.height);
        const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
        let text = '';
        for(let i=0;i<5;i++){ text += chars[Math.floor(Math.random()*chars.length)]; }
        captchaText = text;
        ctx.font='24px Arial'; ctx.fillStyle='black';
        ctx.fillText(text,10,28);
    }
    generateCaptcha(captchaCanvas);
    reloadCaptcha.addEventListener('click', () => generateCaptcha(captchaCanvas));

    // Welcome Modal
    const welcomeModal = document.getElementById('welcome-modal');
    const closeWelcome = document.getElementById('close-welcome');
    const hideWelcomeCheckbox = document.getElementById('hide-welcome');
    if(!localStorage.getItem('hideWelcome')){
        welcomeModal.style.display='flex';
    }
    closeWelcome.addEventListener('click', ()=>{
        if(hideWelcomeCheckbox.checked) localStorage.setItem('hideWelcome','1');
        welcomeModal.style.display='none';
    });
});
</script>

</body>
</html>
